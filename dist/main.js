(()=>{"use strict";class e{constructor(t,n,c,s){this.id=e.id,e.id++,this.title=t,this.desc=n,this.dueDate=c,this.priority=s,this.checklist=[],this.isComplete=!1}addToChecklist(e){this.checklist.push(e)}}e.id=0;const t=document.querySelector(".tasks");function n(e){const n=document.createElement("div");n.setAttribute("data-task-id",e.id),n.classList.add("task");const c=document.createElement("div");c.classList.add("collapsible-items");const i=document.createElement("h4");i.textContent=e.title;const d=document.createElement("button");d.textContent="edit",d.addEventListener("click",A.bind(this,e));const o=document.createElement("button");o.classList.add("delete-btn"),o.textContent="delete";const l=document.createElement("p");l.textContent=e.desc;const a=document.createElement("p");a.textContent=e.dueDate;const r=document.createElement("p");r.textContent=e.priority;const u=document.createElement("ul");e.checklist.forEach((e=>{const t=document.createElement("li");t.textContent=e,u.appendChild(t)}));const m=document.createElement("input");m.setAttribute("type","checkbox"),m.checked=e.isComplete,c.append(l,r,u,d,o),c.style.display="none",n.append(m,i,a,c),n.addEventListener("click",s);let h=document.querySelector(`[data-task-id='${e.id+1}']`);h?t.insertBefore(n,h):t.appendChild(n)}function c(e){const n=document.querySelector(`[data-task-id='${e}']`);for(n.removeEventListener("click",s);n.firstChild;)n.removeChild(n.firstChild);t.removeChild(n)}function s(e){if(e.target!==this.querySelector("input")&&e.target!==this.querySelector("button")){const e=this.querySelector(".collapsible-items");e.style.display="none"===e.style.display?"block":"none"}}class i{constructor(e){this.id=i.id,i.id++,this.name=e,this.tasks=[]}addTask(e){this.tasks.push(e)}deleteTask(e){this.tasks.splice(this.tasks.indexOf(e),1)}deleteTaskById(e){for(let t=0;t<this.tasks.length;t++)if(this.tasks[t].id===+e)return this.tasks.splice(t,1),void console.log(this.tasks)}}i.id=0;const d=document.querySelector(".tasks"),o=document.querySelector(".tasks h2");function l(e){o.textContent=e.name,e.tasks.forEach((e=>n(e)))}function a(){o.textContent="",v().tasks.forEach((e=>{c(e.id)}))}d.addEventListener("click",(function(e){if("delete-btn"===e.target.className){const t=e.target.parentNode.parentNode.getAttribute("data-task-id");v().deleteTaskById(t),c(t)}}));const r=document.querySelector(".projects"),u=document.querySelector(".new-project-btn"),m=document.querySelector(".new-project-input"),h=document.getElementById("new-project"),k=document.querySelector(".add-project-btn"),p=document.querySelector(".cancel-project-btn"),y=new class{constructor(){this.projects=[]}addProject(e){this.projects.push(e)}deleteProject(e){this.projects.splice(this.projects.indexOf(e),1)}};let f;function v(){return f}function E(e){const t=document.createElement("div");t.setAttribute("data-proj",e.id);const n=document.createElement("span"),c=e.name;t.append(n,c),r.insertBefore(t,u),t.addEventListener("click",(()=>{a(),l(e),f=e}))}function C(){u.style.display="inline",m.style.display="none",h.value=""}u.addEventListener("click",(function(){u.style.display="none",m.style.display="block"})),k.addEventListener("click",(function(){if(h.value){const e=new i(h.value);y.addProject(e),E(e),a(),l(e),f=e,C()}})),p.addEventListener("click",C),function(){const t=new i("tasks"),n=new e("task a","a description","06-12-1970","medium");n.addToChecklist("a"),n.addToChecklist("b");const c=new e("task b","b description","09-13-2023","high");c.addToChecklist("c"),c.addToChecklist("d"),t.addTask(n),t.addTask(c),f=t,E(t),l(t)}();const b=document.querySelector("form"),q=document.getElementById("title"),S=document.getElementById("description"),x=document.getElementById("due-date"),L=document.getElementById("checklist"),g=document.querySelector(".checklist-items"),j=document.querySelectorAll('[type="radio"]'),T=b.querySelector("h3"),w=b.querySelector(".checklist-btn"),B=b.querySelector(".confirm-btn");let I;function A(e){e&&function(e){q.value=e.title,S.value=e.desc,x.value=e.dueDate;for(let t of j)if(t.id===e.priority){t.checked=!0;break}e.checklist.forEach((e=>{const t=document.createElement("li");t.textContent=e,g.appendChild(t)}))}(e),I=N.bind(this,e),T.textContent=e?"edit task":"add task",B.textContent=e?"save":"add",B.addEventListener("click",I),b.style.display="grid"}function D(){for(q.value="",S.value="",x.value="",j.forEach((e=>e.checked=!1));g.firstChild;)g.removeChild(g.firstChild);b.style.display="none",B.removeEventListener("click",I)}function N(t){let s;t||(t=new e,v().addTask(t)),t.title=q.value,t.desc=S.value,t.dueDate=x.value;for(let e of j)if(!0===e.checked){s=e;break}t.priority=s?s.value:"",t.checklist.splice(0);for(let e of g.childNodes)t.addToChecklist(e.textContent);document.querySelector(`[data-task-id='${t.id}']`)&&c(t.id),n(t),D()}b.querySelector(".cancel-btn").addEventListener("click",D),w.addEventListener("click",(function(){if(L.value){const e=document.createElement("li");e.textContent=L.value,g.appendChild(e),L.value=""}})),document.querySelector(".new-task-btn").addEventListener("click",(()=>A()))})();
//# sourceMappingURL=main.js.map