(()=>{"use strict";class e{constructor(t,n,c,i){this.id=e.id,e.id++,this.title=t,this.desc=n,this.dueDate=c,this.priority=i,this.checklist=[],this.isComplete=!1}addToChecklist(e){this.checklist.push(e)}}e.id=0;const t=document.querySelector(".tasks");function n(){const e=document.querySelector(".collapsible-items");e.style.display="none"===e.style.display?"block":"none"}const c=document.querySelector("form"),i=document.getElementById("title"),d=document.getElementById("description"),o=document.getElementById("due-date"),l=document.getElementById("checklist"),s=document.querySelector(".checklist-items"),r=document.querySelectorAll('[type="radio"]'),a=c.querySelector("h3"),u=c.querySelector(".checklist-btn"),m=c.querySelector(".confirm-btn");let h;function p(e){e&&function(e){i.value=e.title,d.value=e.desc,o.value=e.dueDate;for(let t of r)if(t.id===e.priority){t.checked=!0;break}e.checklist.forEach((e=>{const t=document.createElement("li");t.textContent=e,s.appendChild(t)}))}(e),h=k.bind(this,e),a.textContent=e?"edit task":"add task",m.textContent=e?"save":"add",m.addEventListener("click",h),c.style.display="grid"}function y(){for(i.value="",d.value="",o.value="",r.forEach((e=>e.checked=!1));s.firstChild;)s.removeChild(s.firstChild);c.style.display="none",m.removeEventListener("click",h)}function k(c){let l;c||(c=new e),c.title=i.value,c.desc=d.value,c.dueDate=o.value;for(let e of r)if(!0===e.checked){l=e;break}c.priority=l?l.value:"",c.checklist.splice(0);for(let e of s.childNodes)c.addToChecklist(e.textContent);document.querySelector(`[data-id='${c.id}']`)&&function(e){const c=document.querySelector(`[data-id='${e}']`);for(c.removeEventListener("click",n);c.firstChild;)c.removeChild(c.firstChild);t.removeChild(c)}(c.id),function(e){const c=document.createElement("div");c.setAttribute("data-id",e.id);const i=document.createElement("div");i.classList.add("collapsible-items");const d=document.createElement("h4");d.textContent=e.title;const o=document.createElement("button");o.textContent="edit",o.addEventListener("click",p.bind(this,e));const l=document.createElement("p");l.textContent=e.desc;const s=document.createElement("p");s.textContent=e.dueDate;const r=document.createElement("p");r.textContent=e.priority;const a=document.createElement("ul");e.checklist.forEach((e=>{const t=document.createElement("li");t.textContent=e,a.appendChild(t)}));const u=document.createElement("input");u.setAttribute("type","checkbox"),u.checked=e.isComplete,i.append(l,r,a,u),i.style.display="none",c.append(d,s,o,i),c.addEventListener("click",n);let m=document.querySelector(`[data-id='${e.id+1}']`);m?t.insertBefore(c,m):t.appendChild(c)}(c),y()}c.querySelector(".cancel-btn").addEventListener("click",y),u.addEventListener("click",(function(){if(l.value){const e=document.createElement("li");e.textContent=l.value,s.appendChild(e),l.value=""}})),document.querySelector(".new-task-btn").addEventListener("click",(()=>p()))})();
//# sourceMappingURL=main.js.map