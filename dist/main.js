(()=>{"use strict";class e{constructor(t,c,n,i){this.id=e.id,e.id++,this.title=t,this.desc=c,this.dueDate=n,this.priority=i,this.checklist=[],this.isComplete=!1}addToChecklist(e){this.checklist.push(e)}}e.id=0;const t=document.querySelector(".tasks"),c=document.querySelector("form"),n=document.getElementById("title"),i=document.getElementById("description"),d=document.getElementById("due-date"),o=document.getElementById("checklist"),l=document.querySelector(".checklist-items"),r=document.querySelectorAll('[type="radio"]'),s=c.querySelector("h3"),u=c.querySelector(".checklist-btn"),a=c.querySelector(".confirm-btn");let m;function h(e){e&&function(e){n.value=e.title,i.value=e.desc,d.value=e.dueDate;for(let t of r)if(t.id===e.priority){t.checked=!0;break}e.checklist.forEach((e=>{const t=document.createElement("li");t.textContent=e,l.appendChild(t)}))}(e),m=k.bind(this,e),s.textContent=e?"edit task":"add task",a.textContent=e?"save":"add",a.addEventListener("click",m),c.style.display="grid"}function f(){for(n.value="",i.value="",d.value="",r.forEach((e=>e.checked=!1));l.firstChild;)l.removeChild(l.firstChild);c.style.display="none",a.removeEventListener("click",m)}function k(c){let o;c||(c=new e),c.title=n.value,c.desc=i.value,c.dueDate=d.value;for(let e of r)if(!0===e.checked){o=e;break}c.priority=o?o.value:"",c.checklist.splice(0);for(let e of l.childNodes)c.addToChecklist(e.textContent);document.querySelector(`[data-id='${c.id}']`)&&function(e){const c=document.querySelector(`[data-id='${e}']`);for(;c.firstChild;)c.removeChild(c.firstChild);t.removeChild(c)}(c.id),function(e){const c=document.createElement("div");c.setAttribute("data-id",e.id);const n=document.createElement("h4");n.textContent=e.title;const i=document.createElement("button");i.textContent="edit",i.addEventListener("click",h.bind(this,e));const d=document.createElement("p");d.textContent=e.desc;const o=document.createElement("p");o.textContent=e.dueDate;const l=document.createElement("p");l.textContent=e.priority;const r=document.createElement("ul");e.checklist.forEach((e=>{const t=document.createElement("li");t.textContent=e,r.appendChild(t)}));const s=document.createElement("input");s.setAttribute("type","checkbox"),s.checked=e.isComplete,c.append(n,i,d,o,l,r,s);let u=document.querySelector(`[data-id='${e.id+1}']`);u?t.insertBefore(c,u):t.appendChild(c)}(c),f()}c.querySelector(".cancel-btn").addEventListener("click",f),u.addEventListener("click",(function(){if(o.value){const e=document.createElement("li");e.textContent=o.value,l.appendChild(e),o.value=""}})),document.querySelector(".new-task-btn").addEventListener("click",(()=>h()))})();
//# sourceMappingURL=main.js.map