(()=>{"use strict";class e{constructor(t,n,c,i){this.id=e.id,e.id++,this.title=t,this.desc=n,this.dueDate=c,this.priority=i,this.checklist=[],this.isComplete=!1}addToChecklist(e){this.checklist.push(e)}}e.id=0;const t=document.querySelector(".tasks");function n(e){const n=document.createElement("div");n.setAttribute("data-task-id",e.id);const c=document.createElement("div");c.classList.add("collapsible-items");const o=document.createElement("h4");o.textContent=e.title;const d=document.createElement("button");d.textContent="edit",d.addEventListener("click",I.bind(this,e));const s=document.createElement("p");s.textContent=e.desc;const l=document.createElement("p");l.textContent=e.dueDate;const r=document.createElement("p");r.textContent=e.priority;const a=document.createElement("ul");e.checklist.forEach((e=>{const t=document.createElement("li");t.textContent=e,a.appendChild(t)}));const u=document.createElement("input");u.setAttribute("type","checkbox"),u.checked=e.isComplete,c.append(s,r,a,u),c.style.display="none",n.append(o,l,d,c),n.addEventListener("click",i);let m=document.querySelector(`[data-task-id='${e.id+1}']`);m?t.insertBefore(n,m):t.appendChild(n)}function c(e){const n=document.querySelector(`[data-task-id='${e}']`);for(n.removeEventListener("click",i);n.firstChild;)n.removeChild(n.firstChild);t.removeChild(n)}function i(){const e=document.querySelector(".collapsible-items");e.style.display="none"===e.style.display?"block":"none"}class o{constructor(e){this.id=o.id,o.id++,this.name=e,this.tasks=[]}addTask(e){this.tasks.push(e)}deleteTask(e){this.tasks.splice(this.activeTasks.indexOf(e),1)}}o.id=0;const d=document.querySelector(".tasks h2");function s(e){d.textContent=e.name,e.tasks.forEach((e=>n(e)))}function l(){d.textContent="",f().tasks.forEach((e=>{c(e.id)}))}const r=document.querySelector(".projects"),a=document.querySelector(".new-project-btn"),u=document.querySelector(".new-project-input"),m=document.getElementById("new-project"),h=document.querySelector(".add-project-btn"),p=document.querySelector(".cancel-project-btn"),k=new class{constructor(){this.projects=[]}addProject(e){this.projects.push(e)}deleteProject(e){this.projects.splice(this.projects.indexOf(e),1)}};let y;function f(){return y}function v(e){const t=document.createElement("div");t.setAttribute("data-proj",e.id);const n=document.createElement("span"),c=e.name;t.append(n,c),r.insertBefore(t,a),t.addEventListener("click",(()=>{l(),s(e),y=e}))}function E(){a.style.display="inline",u.style.display="none",m.value=""}a.addEventListener("click",(function(){a.style.display="none",u.style.display="block"})),h.addEventListener("click",(function(){if(m.value){const e=new o(m.value);k.addProject(e),v(e),l(),s(e),y=e,E()}})),p.addEventListener("click",E),function(){const e=new o("tasks");y=e,v(e),s(e)}();const C=document.querySelector("form"),b=document.getElementById("title"),q=document.getElementById("description"),S=document.getElementById("due-date"),x=document.getElementById("checklist"),j=document.querySelector(".checklist-items"),L=document.querySelectorAll('[type="radio"]'),w=C.querySelector("h3"),B=C.querySelector(".checklist-btn"),g=C.querySelector(".confirm-btn");let T;function I(e){e&&function(e){b.value=e.title,q.value=e.desc,S.value=e.dueDate;for(let t of L)if(t.id===e.priority){t.checked=!0;break}e.checklist.forEach((e=>{const t=document.createElement("li");t.textContent=e,j.appendChild(t)}))}(e),T=D.bind(this,e),w.textContent=e?"edit task":"add task",g.textContent=e?"save":"add",g.addEventListener("click",T),C.style.display="grid"}function A(){for(b.value="",q.value="",S.value="",L.forEach((e=>e.checked=!1));j.firstChild;)j.removeChild(j.firstChild);C.style.display="none",g.removeEventListener("click",T)}function D(t){let i;t||(t=new e,f().addTask(t)),t.title=b.value,t.desc=q.value,t.dueDate=S.value;for(let e of L)if(!0===e.checked){i=e;break}t.priority=i?i.value:"",t.checklist.splice(0);for(let e of j.childNodes)t.addToChecklist(e.textContent);document.querySelector(`[data-id='${t.id}']`)&&c(t.id),n(t),A()}C.querySelector(".cancel-btn").addEventListener("click",A),B.addEventListener("click",(function(){if(x.value){const e=document.createElement("li");e.textContent=x.value,j.appendChild(e),x.value=""}})),document.querySelector(".new-task-btn").addEventListener("click",(()=>I()))})();
//# sourceMappingURL=main.js.map